import com.atlassian.jira.component.ComponentAccessor
import com.atlassian.jira.issue.*
import com.onresolve.jira.groovy.user.FieldBehaviours
import groovy.transform.BaseScript

@BaseScript FieldBehaviours fieldBehaviours

// Get the current issue type from the issue context incase the issue
// has not been created yet    
def issuetype = getIssueContext().getIssueType().name

// Get a pointer to my select field
def ChangeTypeCF = getFieldByName("Change Type")

// Get pointers to the required custom field and option managers
def customFieldManager = ComponentAccessor.getCustomFieldManager()
def optionsManager = ComponentAccessor.getOptionsManager()
def customField = customFieldManager.getCustomFieldObject(ChangeTypeCF.getFieldId())
def config = customField.getRelevantConfig(getIssueContext())
def options = optionsManager.getOptions(config)
Map fieldOptions = [:]

// If issue type is equal to Product Release the cf values to be displayed
if (issuetype == "Product Release") {
 fieldOptions.putAll ("-1":"None",
//"35174":"Custom - BackOffice",
//"35176":"Custom - eModule",
//"82483":"Custom - non-standard",
//"35177":"Custom - Onboarding",
"50957":"Custom - Patch",
//"35178":"Custom - REC",
//"35179":"Custom - Reports",
"35180":"Custom - Upgrade",
//"35182":"Custom - UTA",
//"35183":"Custom - Web",
"50676":"Deploy - Application Install",
"50677":"Deploy - Application One-Off",
"50678":"Deploy - Application Upgrade",
"56076":"Deploy - Application Upgrade (V14)",
"50679":"Deploy - eModule",
"50681":"Deploy - Quarterly Updates",
"82486":"Deploy - Weekly One-off assignment",
"50682":"Deploy - Year-End Tax Update"
 )
 ChangeTypeCF.setFieldOptions(fieldOptions)
}
else{
 fieldOptions.putAll ("-1":"None",
"50644":"Access Management - Group Policy Add/Delete/Modify",
"51160":"Access Management - Login script changes",
"50646":"Access Management - Modify Group Membership",
"82477":"Access Management - non-standard",
"50635":"Activations - Cognos",
"50636":"Activations - Core",
"50637":"Activations - Customer Move",
"50638":"Activations - Data Restore",
"50639":"Activations - Decom Core",
"50640":"Activations - Decom ONB",
"50641":"Activations - Decom REC",
"50642":"Activations - Decom UTA",
"50643":"Activations - Decom UTM/UET",
"104484":"Activations - Decommission",
"104483":"Activations - Implementation",
"50645":"Activations - Integration",
"50647":"Activations - Multiple Customer Moves",
"50648":"Activations - Network - URL Creation",
"50649":"Activations - Network - VPN Change",
"50650":"Activations - Network - VPN IP Add",
"82480":"Activations - non-standard",
"50663":"Activations - ONB",
"50664":"Activations - ONBV14",
"95779":"Activations - Perception",
"50651":"Activations - RECV10",
"50652":"Activations - RECV14",
"50653":"Activations - SSO",
"50654":"Activations - TEST - Cognos",
"50655":"Activations - TEST - Core",
"50656":"Activations - TEST - ONB",
"82479":"Activations - TEST - ONBv14",
"50657":"Activations - TEST - RECV10",
"50658":"Activations - TEST - RECV14",
"50659":"Activations - TEST - UTA",
"82478":"Activations - TEST - UTB",
"50660":"Activations - TEST - UTM/UET",
"111234":"Activations - TEST-WFM",
"50661":"Activations - UTA",
"54009":"Activations - UTB",
"88085":"Activations - UTE",
"50662":"Activations - UTM/UET",
"111233":"Activations - WFM",
"50665":"App owner - Application install",
"56423":"App owner - Application Maintenance",
"50666":"App owner - Application one-off",
"50667":"App owner - Application upgrade",
"50668":"App owner - Apply patch",
"50669":"App owner - Configuration change",
"50670":"App owner - Deploy package/cube",
"82481":"App owner - non-standard",
"111697":"B&D - CTE maintenance",
"111696":"B&D - PatchBuilder maintenance",
"111695":"B&D - TeamCity maintenance",
"111698":"B&D - WST maintenance",
"83910":"Cloud Engine - PCF Core Resource Updates",
"83488":"Cloud Engine - PCF LB Change",
"83490":"Cloud Engine - PCF non-standard",
"83486":"Cloud Engine - PCF Tile Upgrades",
"50671":"COS - Application installation",
"50672":"COS - Apply patch",
"91931":"COS - Decommission",
"91930":"COS - HW maintenance",
"82482":"COS - non-standard",
"54951":"COS - Rack/stack/cable",
"91929":"COS - Recabling",
//"35174":"Custom - BackOffice",
//"35176":"Custom - eModule",
//"82483":"Custom - non-standard",
//"35177":"Custom - Onboarding",
//"50957":"Custom - Patch",
//"35178":"Custom - REC",
//"35179":"Custom - Reports",
//"35180":"Custom - Upgrade",
//"35182":"Custom - UTA",
//"35183":"Custom - Web",
"50673":"DBA - Application changes",
"50674":"DBA - Configuration",
"50675":"DBA - Maintenance",
"82484":"DBA - non-standard",
"36785":"DBA - Security",
//"50676":"Deploy - Application Install",
//"50677":"Deploy - Application One-Off",
//"50678":"Deploy - Application Upgrade",
//"56076":"Deploy - Application Upgrade (V14)",
//"50679":"Deploy - eModule",
//"50681":"Deploy - Quarterly Updates",
//"82486":"Deploy - Weekly One-off assignment",
//"50682":"Deploy - Year-End Tax Update",
"76736":"DEV Legacy - AD: Adding DC",
"76640":"DEV Legacy - AD: Adding Users to Groups",
"76639":"DEV Legacy - AD: Creating ID's/Groups",
"76650":"DEV Legacy - AD: Modifying GPO's",
"76651":"DEV Legacy - AD: Rebooting DC",
"76737":"DEV Legacy - Adding DNS Server",
"76723":"DEV Legacy - Adding/Removeing Snapshots",
"76637":"DEV Legacy - Backup",
"76648":"DEV Legacy - Cluster Changes Add/Remove",
"76734":"DEV Legacy - Disposal",
"76642":"DEV Legacy - DNS: Adding Records",
"76643":"DEV Legacy - DNS: Removing Records",
"76735":"DEV Legacy - Drive Replacement",
"76647":"DEV Legacy - DRS/HA Changes",
"76635":"DEV Legacy - ESX: Adding Space to VM",
"76666":"DEV Legacy - ESX: Host Reimage if Clustered",
"76667":"DEV Legacy - ESX: Host Reimage if Standalone",
"76644":"DEV Legacy - ESX: New Host Build",
"76668":"DEV Legacy - ESX: Upgrading Host OS if Clusterd",
"76731":"DEV Legacy - F5: Add/Change of Servers (Pools)",
"76653":"DEV Legacy - F5: Certificate Additions/Changes",
"76654":"DEV Legacy - F5: Certificate/Profile Change",
"76732":"DEV Legacy - F5: Creating VIP's",
"76670":"DEV Legacy - F5: Firmware Change/Upgrade",
"76742":"DEV Legacy - F5: Physical Network Changes",
"76743":"DEV Legacy - F5: VLAN Additions",
"76725":"DEV Legacy - Firewall: Adding Objects/Rules",
"76744":"DEV Legacy - Firewall: Installation",
"76724":"DEV Legacy - Firewall: Opening Ports",
"76645":"DEV Legacy - Migrating VM's Standalone Host",
"76655":"DEV Legacy - Network: Activating new ESX servers on network (enabling port)",
"76681":"DEV Legacy - Network: Adding Nat's",
"76656":"DEV Legacy - Network: Adding/Replacing Switches",
"76671":"DEV Legacy - Network: Creating New VLANs/Ranges",
"76659":"DEV Legacy - Network: Firmware",
"76727":"DEV Legacy - Network: Installing Hardware and Cableing",
"76672":"DEV Legacy - Network: Internet Failover",
"76657":"DEV Legacy - Network: Modifying Aggregates",
"76664":"DEV Legacy - Network: Modifying Management Network (ports, switches, etc)",
"76726":"DEV Legacy - Network: Modifying Ports for Hosts (disabled ports only)",
"76658":"DEV Legacy - Network: Modifying Spanning Tree / Topology Changes",
"76682":"DEV Legacy - Network: Modifying Vswitch",
"76728":"DEV Legacy - Network: Trunking/Adding Vlans",
"76733":"DEV Legacy - New VM Build",
"82487":"DEV Legacy - non-standard",
"76675":"DEV Legacy - Patches",
"76649":"DEV Legacy - PSU Change",
"76722":"DEV Legacy - Racking and Cableing",
"76720":"DEV Legacy - Reboot Clustered Environment",
"76721":"DEV Legacy - Reboot Non-Clustered Environment",
"76674":"DEV Legacy - Rebooting Vcenter (Outside of Vcloud/Rcloud)",
"76746":"DEV Legacy - SAN: Adding Shelves to Netapp",
"76745":"DEV Legacy - SAN: Adding Storage Node to SolidFire",
"76729":"DEV Legacy - SAN: Building Volumes/LUNs",
"76730":"DEV Legacy - SAN: Creating Shares",
"76684":"DEV Legacy - SAN: Creating Snapshots",
"76747":"DEV Legacy - SAN: Installing/Configuring a new SAN",
"76660":"DEV Legacy - SAN: Migrating Drives on Netapp",
"76683":"DEV Legacy - SAN: Presenting Storage to Hosts",
"76665":"DEV Legacy - SAN: Replacing Physical Drive HotSpare in SAN",
"76718":"DEV Legacy - Server Parts Changes Outside of Drive/PSU Clustered",
"76719":"DEV Legacy - Server Parts Changes Outside of Drive/PSU Standalone",
"76636":"DEV Legacy - Software Install",
"76673":"DEV Legacy - Updating Templates",
"76669":"DEV Legacy - Upgrading Host OS if Standalone",
"76641":"DEV Legacy - User acces to applications (e.g. Subversion, GIT, Vcloud)",
"76638":"DEV Legacy - Virtual Mem/CPU",
"76716":"DEV Legacy - VM Reimage",
"76717":"DEV Legacy - Vmotion",
"82488":"DEV Rcloud - non-standard",
"76680":"DEV Rcloud - Rebooting Vcenter for Rcloud",
"76663":"DEV Vcloud - Catalog Add",
"76676":"DEV Vcloud - Cosolidate Existing Catalog Image",
"76677":"DEV Vcloud - Cosolidate New Catalog Image",
"76738":"DEV Vcloud - ESX: Host Reimage Clustered",
"76739":"DEV Vcloud - ESX: New Host Build",
"82489":"DEV Vcloud - non-standard",
"76679":"DEV Vcloud - Rebooting Vcenter for Vcloud",
"76740":"DEV Vcloud - Vcloud Application Upgrade",
"76678":"DEV Vcloud - Vcloud Quota/ID Changes",
"76652":"DEV Vcloud - Vcloud Reboot",
"76662":"DEV Vcloud - VM Export",
"76661":"DEV Vcloud - VM Import",
"35224":"Network - Add",
"35225":"Network - Change",
"50683":"Network - Decommission",
"35227":"Network - Delete",
"50684":"Network - DNS change",
"82492":"Network - Failover node",
"82490":"Network - Hardware upgrade",
"50685":"Network - Informational",
"82493":"Network - Install virtual FW",
"56732":"Network - IP Block",
"82494":"Network - non-standard",
"82491":"Network - OS upgrade",
"45383":"Network - Port Opening",
"83748":"Network - Provisioning",
"45384":"Network - URL Creation",
"76708":"PaaS CU - Artifactory - Update configuration",
"76709":"PaaS CU - Artifactory - Upgrade kernel/OS packages",
"76707":"PaaS CU - Artifactory - Upgrade to new version",
"76711":"PaaS CU - Chef Server - Update configuration",
"76712":"PaaS CU - Chef Server - Upgrade kernel/OS packages",
"76710":"PaaS CU - Chef Server - Upgrade to new version",
"76689":"PaaS CU - ELK - Update configuration of Elasticsearch",
"76690":"PaaS CU - ELK - Upgrade kernel/OS packages",
"76688":"PaaS CU - ELK - Upgrade to new version of Elasticsearch",
"76686":"PaaS CU - Graphite/Grafana - Update configuration",
"76687":"PaaS CU - Graphite/Grafana - Upgrade kernel/OS packages",
"76685":"PaaS CU - Graphite/Grafana - Upgrade to new version",
"76697":"PaaS CU - HAProxy - Update configuration",
"82495":"PaaS CU - non-standard",
"76698":"PaaS CU - RabbitMQaaS - Add or modify a new user or vhost",
"76714":"PaaS CU - RabbitMQaaS - Update configuration",
"76715":"PaaS CU - RabbitMQaaS - Upgrade kernel/OS packages",
"76713":"PaaS CU - RabbitMQaaS - Upgrade to new version",
"76696":"PaaS CU - Sensu Client - Update check configuration on live environment",
"76694":"PaaS CU - Sensu Server - Update configuration",
"76695":"PaaS CU - Sensu Server - Upgrade kernel/OS packages",
"76693":"PaaS CU - Sensu Server - Upgrade to new version of RabbitMQ",
"76692":"PaaS CU - Sensu Server - Upgrade to new version of Redis",
"76691":"PaaS CU - Sensu Server - Upgrade to new version of Sensu",
"76702":"PaaS CU - SPADE/AMP - Update configuration",
"76703":"PaaS CU - SPADE/AMP - Upgrade kernel/OS packages",
"76701":"PaaS CU - SPADE/AMP - Upgrade to new version",
"76700":"PaaS CU - TeamCity - Database maintenance",
"76705":"PaaS CU - TeamCity - Update configuration",
"76699":"PaaS CU - TeamCity - Update configuration of agents",
"76706":"PaaS CU - TeamCity - Upgrade kernel/OS packages",
"76704":"PaaS CU - TeamCity - Upgrade to new version",
"111699":"Rcloud - Rcloud maintenance",
"35241":"SAN - Maintenance",
"82496":"SAN - non-standard",
"50686":"SAN - Provisioning",
"50687":"Security - Assessment",
"50688":"Security - Configuration",
"50689":"Security - Encryption",
"50690":"Security - Incident",
"50691":"Security - Maintenance",
"50692":"Server - AD related",
"35232":"Server - Add",
"91932":"Server - Application Installation",
"50693":"Server - Apply Patch (hardware)",
"50694":"Server - Apply patch (software)",
"50695":"Server - Configuration change",
"82497":"Server - CPU upgrade",
"50696":"Server - Decommission",
"82500":"Server - Decommission initial task",
"50697":"Server - DNS change",
"50698":"Server - Drive expansion",
"99525":"Server - Failover",
"82499":"Server - Hardware downgrade/delete",
"35237":"Server - Maintenance",
"50699":"Server - Move",
"82501":"Server - non-standard",
"82498":"Server - RAM upgrade",
"35233":"Server - Reboot",
"82502":"Ucloud - Add Compute Capacity",
"52545":"Ucloud - Configuration change",
"52547":"Ucloud - Network maintenance",
"52548":"Ucloud - New device setup",
"82503":"Ucloud - non-standard",
"52544":"Ucloud - OpenStack refresh",
"52546":"Ucloud - Server maintenance",
"56824":"UCN - Configuration Changes",
"56823":"UCN - Global FTP Password Changes",
"56825":"UCN - Install",
"82504":"UCN - non-standard",
"56827":"UCN - One-off",
"56826":"UCN - Upgrade"
)
 ChangeTypeCF.setFieldOptions(fieldOptions)
}
